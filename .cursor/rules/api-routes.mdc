---
description: 
globs: "**/api/**", "**/route.ts", "**/actions.ts"
alwaysApply: false
---
# API and Server Actions Guidelines

## Server Actions
- Use server actions for form submissions
- Implement proper validation and error handling
- Use revalidatePath for cache invalidation
- Return structured responses with success/error status

## API Routes
- Use Next.js API routes for external integrations
- Implement proper authentication and authorization
- Validate request parameters
- Return appropriate HTTP status codes

## Error Handling
- Use try/catch blocks for error handling
- Return structured error responses
- Log errors for debugging
- Implement rate limiting for public endpoints

## Data Validation
- Validate all input data
- Use zod or similar libraries for schema validation
- Sanitize user input to prevent injection attacks
- Provide clear error messages for validation failures
